"use strict";const inputElement=document.querySelector(".js-input"),btnSearchElement=document.querySelector(".js-btnSearch"),characterList=document.querySelector(".js-characterList"),favoriteList=document.querySelector(".js-favouriteList");let allCharacters=[],favCharacters=[];function renderCharacter(e,t){t.innerHTml="";for(const a of e){const e=document.createElement("li");e.classList.add("section__list--element");const r=document.createElement("article");r.classList.add("article"),r.id=a.char_id;const c=document.createElement("figure");c.classList.add("article__imgBox");const s=document.createElement("img");s.src=a.img,s.classList.add("article__imgBox--img"),s.dataset.alt=`foto de ${a.name} `,c.appendChild(s);const n=document.createElement("h3");n.classList.add("article__name");const l=document.createTextNode(a.name);n.appendChild(l);const i=document.createElement("p");i.classList.add("article__status");const o=document.createTextNode(a.status);i.appendChild(o),r.appendChild(c),r.appendChild(n),r.appendChild(i),e.appendChild(r),t.appendChild(e)}cardListener()}let userSearch="";const urlApiAll="https://breakingbadapi.com/api/characters";function fetchCharacters(e){fetch(e).then(e=>e.json()).then(e=>{allCharacters=e,renderCharacter(allCharacters,characterList)})}function handleClickSearch(e){characterList.innerHTML="",e.preventDefault(),userSearch=inputElement.value.toLowerCase();renderCharacter(allCharacters.filter(e=>e.name.toLowerCase().includes(userSearch)),characterList)}function cardListener(){const e=document.querySelectorAll(".article");for(const t of e)t.addEventListener("click",handleClickCard)}function handleClickCard(e){const t=e.currentTarget;t.classList.toggle("selected");const a=parseInt(t.id);console.log(a);const r=allCharacters.find(e=>e.char_id===a);console.log(r);const c=favCharacters.findIndex(e=>e.char_id===a);console.log(c),-1===c?favCharacters.push(r):favCharacters.splice(c,1),console.log(favCharacters),localStorage.setItem("favoritesStorage",JSON.stringify(favCharacters)),favoriteList.innerHTML="",renderCharacter(favCharacters,favoriteList)}fetchCharacters(urlApiAll),btnSearchElement.addEventListener("click",handleClickSearch);const savedFavourites=JSON.parse(localStorage.getItem("favoritesStorage"));console.log(savedFavourites),null!==savedFavourites&&(favCharacters=savedFavourites,renderCharacter(favCharacters,favoriteList));